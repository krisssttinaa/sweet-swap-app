{"version":3,"sources":["pages/Home.js","components/RecipeCard.js","pages/RecipeList.js","pages/RecipeDetails.js","pages/AddRecipe.js","pages/MessageList.js","pages/AchievementList.js","pages/Login.js","pages/Register.js","pages/Profile.js","components/Header.js","components/Footer.js","pages/Contact.js","pages/EditRecipe.js","components/SearchResults.js","AppRouter.js","index.js"],"names":["Home","newRecipes","setNewRecipes","useState","navigate","useNavigate","useEffect","async","response","axios","get","data","error","console","fetchNewRecipes","handleCategoryClick","category","concat","React","createElement","className","onClick","src","alt","length","map","recipe","key","recipe_id","image_filename","title","handleViewRecipe","id","RecipeCard","_ref","fetchRecipes","menuOpen","setMenuOpen","isSaved","setIsSaved","userId","localStorage","getItem","savedRecipes","headers","Authorization","some","savedRecipe","checkIfSaved","instructions","substring","e","stopPropagation","parseInt","user_id","Fragment","handleEdit","token","delete","recipeId","log","post","handleReport","RecipeList","categoryParam","useParams","recipes","setRecipes","selectedTab","setSelectedTab","isLoggedIn","setIsLoggedIn","currentCategory","setCurrentCategory","useCallback","filter","value","onChange","handleCategorySelect","target","handleAddRecipe","RecipeDetails","setRecipe","username","setUsername","userProfilePicture","setUserProfilePicture","comments","setComments","newComment","setNewComment","editingCommentId","setEditingCommentId","editContent","setEditContent","menuRef","useRef","fetchComments","commentsResponse","Array","isArray","commentsWithPictures","Promise","all","userResponse","comment","profile_picture","fetchRecipe","handleUpdateComment","trim","put","content","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","handleUsernameClick","commentUserId","profilePath","toString","products","product","product_id","name","description","price","brand","shop","index","comment_id","date_commented","Date","toLocaleString","handleEditComment","handleDeleteComment","placeholder","rows","toggleMenu","ref","AddRecipe","setTitle","setInstructions","setCategory","image","setImage","onSubmit","preventDefault","formattedDate","toISOString","slice","replace","formData","FormData","append","type","required","files","MessageList","messages","setMessages","then","catch","message","message_id","AchievementList","achievements","setAchievements","achievement","achievement_id","Login","password","setPassword","showPassword","setShowPassword","setError","user","setItem","htmlFor","checked","Register","setName","surname","setSurname","email","setEmail","country","setCountry","role","request","Profile","setUser","isEditing","setIsEditing","selectedPicture","setSelectedPicture","isPictureModalOpen","setIsPictureModalOpen","setFormData","dietaryGoals","loggedInUserId","userIdToFetch","dietary_goals","fetchProfile","handleInputChange","closePictureModal","isCurrentUser","openPictureModal","updateData","profilePicture","handleCancelClick","clear","handleEditClick","pic","Header","isModerator","searchTerm","setSearchTerm","handleScroll","header","querySelector","window","scrollY","classList","add","remove","handleLogoClick","style","cursor","process","NavLink","to","isActive","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","handleLogout","removeItem","Footer","Contact","alert","err","EditRecipe","SearchResults","results","setResults","location","useLocation","query","URLSearchParams","search","fetchSearchResults","AppRouter","Router","Routes","Route","exact","path","element","interceptors","use","status","href","reject","container","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.6c96c901.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './Home.css';\n\nconst Home = () => {\n  const [newRecipes, setNewRecipes] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchNewRecipes = async () => {\n      try {\n        const response = await axios.get('http://88.200.63.148:8288/api/recipes/newest');\n        setNewRecipes(response.data);\n      } catch (error) {\n        console.error('Error fetching recipes:', error);\n      }\n    };\n\n    fetchNewRecipes();\n  }, []);\n\n  const handleViewRecipe = (id) => {\n    navigate(`/recipe/${id}`);\n  };\n\n  const handleCategoryClick = (category) => {\n    navigate(`/recipes/category/${category}`);\n  };\n\n  return (\n    <div className=\"home\">\n      <header className=\"home-header\">\n        <div className=\"hero-image\">\n          <div className=\"hero-text\">\n            <p>Explore the world of sugar-free food</p>\n          </div>\n        </div>\n      </header>\n      <section className=\"home-recipes\">\n        <div className=\"recipe-categories\">\n          <div className=\"category\" onClick={() => handleCategoryClick('Salads')}>\n            <img src=\"/images/salad.jpg\" alt=\"Salads\" />\n            <p>Salads</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Vegetarian Dishes')}>\n            <img src=\"/images/vegetarian.jpg\" alt=\"Vegetarian Dishes\" />\n            <p>Vegetarian Dishes</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Low-Sugar Snacks')}>\n            <img src=\"/images/snacks.jpg\" alt=\"Low-Sugar Snacks\" />\n            <p>Low-Sugar Snacks</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Sugar-Free Desserts')}>\n            <img src=\"/images/sugar-free-desserts.jpg\" alt=\"Sugar-Free Desserts\" />\n            <p>Sugar-Free Desserts</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Healthy Beverages')}>\n            <img src=\"/images/beverages.jpg\" alt=\"Healthy Beverages\" />\n            <p>Healthy Beverages</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Low-Sugar Desserts')}>\n            <img src=\"/images/low-sugar-desserts.jpg\" alt=\"Low-Sugar Desserts\" />\n            <p>Low-Sugar Desserts</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Sugar-Free Snacks')}>\n            <img src=\"/images/sugar-free-snacks.jpg\" alt=\"Sugar-Free Snacks\" />\n            <p>Sugar-Free Snacks</p>\n          </div>\n          <div className=\"category\" onClick={() => handleCategoryClick('Non-Vegetarian Food')}>\n            <img src=\"/images/non-vegetarian.jpg\" alt=\"Non-Vegetarian Food\" />\n            <p>Non-Vegetarian Food</p>\n          </div>\n        </div>\n      </section>\n      <section className=\"home-new-recipes\">\n        <h2>New recipes</h2>\n        <div className=\"new-recipes-list\">\n          {newRecipes.length > 0 ? (\n            newRecipes.map((recipe) => (\n              <div className=\"recipe-card\" key={recipe.recipe_id}>\n                {recipe.image_filename && (\n                  <img\n                    src={`http://88.200.63.148:8288/uploads/${recipe.image_filename}`}\n                    alt={recipe.title}\n                  />\n                )}\n                <h3>{recipe.title}</h3>\n                <button onClick={() => handleViewRecipe(recipe.recipe_id)}>Recipe</button>\n              </div>\n            ))\n          ) : (\n            <p>No recipes found.</p>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Home;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './RecipeCard.css';\n\nconst RecipeCard = ({ recipe, fetchRecipes }) => {\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [isSaved, setIsSaved] = useState(false); // Track if the recipe is saved\n  const navigate = useNavigate();\n  const userId = localStorage.getItem('user_id'); // Get the user_id directly\n\n  useEffect(() => {\n    const checkIfSaved = async () => {\n      try {\n        const savedResponse = await axios.get(`http://88.200.63.148:8288/api/saved/saved`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        });\n        const savedRecipes = savedResponse.data;\n        setIsSaved(savedRecipes.some(savedRecipe => savedRecipe.recipe_id === recipe.recipe_id));\n      } catch (error) {\n        console.error('Error checking saved status', error);\n      }\n    };\n\n    checkIfSaved();\n  }, [recipe.recipe_id]);\n\n  const toggleMenu = (e) => {\n    e.stopPropagation();\n    setMenuOpen(!menuOpen);\n  };\n\n  const handleEdit = () => {\n    navigate(`/edit-recipe/${recipe.recipe_id}`);\n  };\n\n  const handleDelete = async () => {\n    const token = localStorage.getItem('token');\n    try {\n      await axios.delete(`http://88.200.63.148:8288/api/recipes/${recipe.recipe_id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      fetchRecipes();\n    } catch (error) {\n      console.error('Error deleting recipe:', error);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      await axios.post(\n        'http://88.200.63.148:8288/api/saved/save',\n        { recipeId: recipe.recipe_id },\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n      setIsSaved(true);\n      console.log('Recipe saved');\n    } catch (error) {\n      console.error('Error saving recipe', error);\n    }\n  };\n\n  const handleUnsave = async () => {\n    try {\n      await axios.delete('http://88.200.63.148:8288/api/saved/unsave', {\n        data: { recipeId: recipe.recipe_id },\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      setIsSaved(false);\n      console.log('Recipe unsaved');\n    } catch (error) {\n      console.error('Error unsaving recipe', error);\n    }\n  };\n\n  const handleViewRecipe = () => {\n    navigate(`/recipe/${recipe.recipe_id}`);\n  };\n\n  const handleReport = () => {\n    // Placeholder for report functionality\n    console.log('Report recipe');\n  };\n\n  return (\n    <div className=\"recipe-card\" onClick={handleViewRecipe}>\n      {recipe.image_filename && (\n        <img\n          src={`http://88.200.63.148:8288/uploads/${recipe.image_filename}`}\n          alt={recipe.title}\n          className=\"recipe-image\"\n        />\n      )}\n      <div className=\"recipe-content\">\n        <h4>{recipe.title}</h4>\n        <p>{recipe.instructions.substring(0, 100)}...</p>\n      </div>\n      <div className=\"menu\" onClick={toggleMenu}>\n        ☰\n        {menuOpen && (\n          <div className=\"menu-options\">\n            {userId && parseInt(userId) === recipe.user_id && (\n              <>\n                <div onClick={handleEdit}>Edit</div>\n                <div onClick={handleDelete}>Delete</div>\n              </>\n            )}\n            {isSaved ? <div onClick={handleUnsave}>Unsave</div> : <div onClick={handleSave}>Save</div>}\n            <div onClick={handleReport}>Report</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RecipeCard;","import React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom'; // Import useParams to get category from URL if needed\nimport RecipeCard from '../components/RecipeCard';\nimport './RecipeList.css';\n\nconst RecipeList = () => {\n  const { category: categoryParam } = useParams(); // Get category from URL\n  const [recipes, setRecipes] = useState([]);\n  const [selectedTab, setSelectedTab] = useState('all'); \n  const [isLoggedIn, setIsLoggedIn] = useState(false); \n  const [currentCategory, setCurrentCategory] = useState(categoryParam || 'all'); // Initialize with URL category or default to 'all'\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  const fetchRecipes = useCallback(async () => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('user_id');\n\n    try {\n      let response;\n      if (selectedTab === 'saved') {\n        response = await axios.get('http://88.200.63.148:8288/api/saved/saved', {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        if (currentCategory !== 'all') {\n          response = {\n            data: response.data.filter(recipe => recipe.category === currentCategory)\n          };\n        }\n      } else if (selectedTab === 'my') {\n        if (!userId) {\n          console.error('No user ID found. Cannot fetch user-specific recipes.');\n          return;\n        }\n        response = await axios.get('http://88.200.63.148:8288/api/recipes', {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        response = {\n          data: response.data.filter(recipe => recipe.user_id === parseInt(userId) && (currentCategory === 'all' || recipe.category === currentCategory))\n        };\n      } else {\n        if (currentCategory === 'all') {\n          response = await axios.get('http://88.200.63.148:8288/api/recipes');\n        } else {\n          response = await axios.get(`http://88.200.63.148:8288/api/recipes/category/${currentCategory}`);\n        }\n      }\n\n      setRecipes(response.data);\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n    }\n  }, [selectedTab, currentCategory]);\n\n  useEffect(() => {\n    // Update the currentCategory state if the URL changes (when navigating from Home)\n    if (categoryParam) {\n      setCurrentCategory(categoryParam);\n    }\n  }, [categoryParam]);\n\n  useEffect(() => {\n    fetchRecipes();\n  }, [fetchRecipes]);\n\n  const handleCategorySelect = (category) => {\n    setCurrentCategory(category);\n    if (category === 'all') {\n      navigate('/recipes');\n    } else {\n      navigate(`/recipes/category/${category}`);\n    }\n  };\n\n  const handleAddRecipe = () => {\n    navigate('/add-recipe');\n  };\n\n  return (\n    <div className=\"recipe-list\">\n      <div className=\"tabs\">\n        <button className={selectedTab === 'saved' ? 'active' : ''} onClick={() => setSelectedTab('saved')}>Saved Recipes</button>\n        <button className={selectedTab === 'all' ? 'active' : ''} onClick={() => setSelectedTab('all')}>All Recipes</button>\n        <button className={selectedTab === 'my' ? 'active' : ''} onClick={() => setSelectedTab('my')}>My Recipes</button>\n      </div>\n      <div className=\"recipe-header\">\n        <div className=\"recipe-actions\">\n          <select className=\"category-select\" value={currentCategory} onChange={(e) => handleCategorySelect(e.target.value)}>\n            <option value=\"all\">All</option>\n            <option value=\"Salads\">Salads</option>\n            <option value=\"Vegetarian Dishes\">Vegetarian Dishes</option>\n            <option value=\"Low-Sugar Snacks\">Low-Sugar Snacks</option>\n            <option value=\"Sugar-Free Desserts\">Sugar-Free Desserts</option>\n            <option value=\"Healthy Beverages\">Healthy Beverages</option>\n            <option value=\"Low-Sugar Desserts\">Low-Sugar Desserts</option>\n            <option value=\"Sugar-Free Snacks\">Sugar-Free Snacks</option>\n            <option value=\"Non-Vegetarian Food\">Non-Vegetarian Food</option>\n          </select>\n          {isLoggedIn && (\n            <button className=\"add-recipe-button\" onClick={handleAddRecipe}>+ Add Recipe</button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"recipes-container\">\n        {recipes.length > 0 ? (\n          recipes.map((recipe) => (\n            <RecipeCard key={recipe.recipe_id} recipe={recipe} fetchRecipes={fetchRecipes} />\n          ))\n        ) : (\n          <p>No recipes found.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RecipeList;","import React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './RecipeDetails.css';\n\nconst RecipeDetails = () => {\n    const { id } = useParams();\n    const [recipe, setRecipe] = useState(null);\n    const [username, setUsername] = useState('');\n    const [userProfilePicture, setUserProfilePicture] = useState('default.png'); // Added state for author's profile picture\n    const [comments, setComments] = useState([]);\n    const [newComment, setNewComment] = useState('');\n    const [editingCommentId, setEditingCommentId] = useState(null);\n    const [editContent, setEditContent] = useState('');\n    const [menuOpen, setMenuOpen] = useState(false);\n    const [isSaved, setIsSaved] = useState(false);\n    const navigate = useNavigate();\n    const userId = localStorage.getItem('user_id');\n    const token = localStorage.getItem('token');\n    const menuRef = useRef(null);\n\n    const fetchComments = useCallback(async () => {\n        try {\n            const commentsResponse = await axios.get(`http://88.200.63.148:8288/api/comments/recipe/${id}`, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            if (commentsResponse.data && Array.isArray(commentsResponse.data)) {\n                const commentsWithPictures = await Promise.all(\n                    commentsResponse.data.map(async (comment) => {\n                        const userResponse = await axios.get(`http://88.200.63.148:8288/api/users/${comment.user_id}`);\n                        return {\n                            ...comment,\n                            profile_picture: userResponse.data.profile_picture || 'default.png',\n                        };\n                    })\n                );\n                setComments(commentsWithPictures);\n            }\n        } catch (error) {\n            console.error('Error fetching comments:', error);\n        }\n    }, [id, token]);\n\n    useEffect(() => {\n        const fetchRecipe = async () => {\n            try {\n                const response = await axios.get(`http://88.200.63.148:8288/api/recipes/${id}`);\n                setRecipe(response.data);\n\n                if (response.data.user_id) {\n                    const userResponse = await axios.get(`http://88.200.63.148:8288/api/users/${response.data.user_id}`);\n                    setUsername(userResponse.data.username);\n                    setUserProfilePicture(userResponse.data.profile_picture || 'default.png'); // Set author's profile picture\n                }\n\n                if (token) {\n                    const savedResponse = await axios.get(`http://88.200.63.148:8288/api/saved/saved`, {\n                        headers: { 'Authorization': `Bearer ${token}` }\n                    });\n                    const savedRecipes = savedResponse.data;\n                    setIsSaved(savedRecipes.some(savedRecipe => savedRecipe.recipe_id === response.data.recipe_id));\n                }\n\n                fetchComments(); // Fetch comments when component loads\n            } catch (error) {\n                console.error('Error fetching recipe:', error);\n            }\n        };\n\n        fetchRecipe();\n    }, [id, token, fetchComments, userId]);\n\n    const handleNewCommentChange = (e) => {\n        setNewComment(e.target.value);\n    };\n\n    const handleCommentSubmit = async () => {\n        if (newComment.trim() === '') {\n            return;\n        }\n\n        try {\n            await axios.post(`http://88.200.63.148:8288/api/comments`, {\n                recipe_id: id,\n                user_id: userId,\n                content: newComment\n            }, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n\n            fetchComments();  // Refetch comments after submission\n            setNewComment('');\n        } catch (error) {\n            console.error('Error submitting comment:', error);\n        }\n    };\n\n    const handleEditComment = (comment_id, content) => {\n        setEditingCommentId(comment_id);\n        setEditContent(content);\n    };\n\n    const handleUpdateComment = async () => {\n        if (editContent.trim() === '') {\n            return;\n        }\n\n        try {\n            await axios.put(`http://88.200.63.148:8288/api/comments/${editingCommentId}`, \n            { content: editContent }, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n\n            fetchComments();  // Refetch comments after update\n            setEditingCommentId(null);\n            setEditContent('');\n        } catch (error) {\n            console.error('Error updating comment:', error);\n        }\n    };\n\n    const handleDeleteComment = async (comment_id) => {\n        try {\n            await axios.delete(`http://88.200.63.148:8288/api/comments/${comment_id}`, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            fetchComments();  // Refetch comments after delete\n        } catch (error) {\n            console.error('Error deleting comment:', error);\n        }\n    };\n\n    const toggleMenu = () => {\n        setMenuOpen(!menuOpen);\n    };\n\n    const handleClickOutside = (event) => {\n        if (menuRef.current && !menuRef.current.contains(event.target)) {\n            setMenuOpen(false);\n        }\n    };\n\n    useEffect(() => {\n        if (menuOpen) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [menuOpen]);\n\n    const handleEdit = () => {\n        navigate(`/edit-recipe/${recipe.recipe_id}`);\n    };\n\n    const handleDelete = async () => {\n        try {\n            await axios.delete(`http://88.200.63.148:8288/api/recipes/${recipe.recipe_id}`, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            navigate('/recipes');\n        } catch (error) {\n            console.error('Error deleting recipe:', error);\n        }\n    };\n\n    const handleSave = async () => {\n        try {\n            await axios.post('http://88.200.63.148:8288/api/saved/save', { recipeId: recipe.recipe_id }, {\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            setIsSaved(true);\n        } catch (error) {\n            console.error('Error saving recipe:', error);\n        }\n    };\n\n    const handleUnsave = async () => {\n        try {\n            await axios.delete('http://88.200.63.148:8288/api/saved/unsave', {\n                data: { recipeId: recipe.recipe_id },\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            setIsSaved(false);\n        } catch (error) {\n            console.error('Error unsaving recipe:', error);\n        }\n    };\n\n    const handleReport = () => {\n        console.log('Reporting recipe or comment.');\n    };\n\n    const handleUsernameClick = (commentUserId) => {\n        const profilePath = userId === commentUserId.toString() ? '/profile' : `/user/${commentUserId}`;\n        navigate(profilePath);\n    };\n\n    if (!recipe) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div className=\"recipe-details\">\n            <img className='recipe-img' src={`http://88.200.63.148:8288/uploads/${recipe.image_filename}`} alt={recipe.title} />\n            <div className=\"recipe-info\">\n                <h2>{recipe.title}</h2>\n                <p className=\"author\">\n                    <img src={`http://88.200.63.148:8288/uploads/${userProfilePicture}`} alt=\"Profile\" className=\"profile-picture\" />\n                    <span onClick={() => handleUsernameClick(recipe.user_id)} className=\"username\">{username}</span>\n                </p>\n                {recipe.products && recipe.products.length > 0 && (\n                    <>\n                        <h3>Products</h3>\n                        <ul className=\"products-txt\">\n                            {recipe.products.map((product) => (\n                                <li key={product.product_id}>\n                                    <strong>{product.name}</strong>\n                                    <br />\n                                    <em>{product.description}</em>\n                                    <br />\n                                    Price: {product.price}, Brand: {product.brand}, Shop: {product.shop}\n                                </li>\n                            ))}\n                        </ul>\n                    </>\n                )}\n\n                <h3>Instructions</h3>\n                <p className=\"instructions-txt\">{recipe.instructions}</p>\n\n                <h3>Comments</h3>\n                              <div className=\"comments-section\">\n                  {comments.length > 0 ? (\n                      comments.map((comment, index) => (\n                          <div key={comment.comment_id || index} className=\"comment\">\n                              <img src={`http://88.200.63.148:8288/uploads/${comment.profile_picture}`} alt={comment.username} className=\"profile-picture\" />\n                              {editingCommentId === comment.comment_id ? (\n                                  <div>\n                                      <textarea\n                                          value={editContent}\n                                          onChange={(e) => setEditContent(e.target.value)}\n                                      />\n                                      <button onClick={handleUpdateComment}>Update</button>\n                                      <button onClick={() => setEditingCommentId(null)}>Cancel</button>\n                                  </div>\n                              ) : (\n                                  <>\n                                      <p>\n                                          <span \n                                              onClick={() => handleUsernameClick(comment.user_id)} \n                                              className=\"username clickable-username\"\n                                          >\n                                              {comment.username}\n                                          </span>: {comment.content}\n                                      </p>\n                                      <div className='comments-details'>\n                                          <small>\n                                              Commented on: {comment.date_commented ? new Date(comment.date_commented).toLocaleString() : 'Date not available'}\n                                          </small>\n                                          {comment.user_id === parseInt(userId) && (\n                                              <div className='comments-buttons-change'>\n                                                  <button onClick={() => handleEditComment(comment.comment_id, comment.content)}>Edit</button>\n                                                  <button onClick={() => handleDeleteComment(comment.comment_id)}>Delete</button>\n                                              </div>\n                                          )}\n                                      </div>\n                                  </>\n                              )}\n                          </div>\n                      ))\n                  ) : (\n                      <p>No comments yet.</p>\n                  )}\n                  <div className=\"add-comment\">\n                      <textarea\n                          value={newComment}\n                          onChange={handleNewCommentChange}\n                          placeholder=\"Add a comment...\"\n                          rows=\"3\"\n                      />\n                      <button onClick={handleCommentSubmit}>Submit</button>\n                  </div>\n              </div>\n            </div>\n            {userId && token && (\n                <div className=\"menu\" onClick={toggleMenu} ref={menuRef}>\n                    <div className=\"burger-icon\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </div>\n                    {menuOpen && (\n                        <div className=\"menu-options\">\n                            {userId === recipe.user_id.toString() && <div onClick={handleEdit}>Edit</div>}\n                            {userId === recipe.user_id.toString() && <div onClick={handleDelete}>Delete</div>}\n                            {isSaved\n                                ? <div onClick={handleUnsave}>Unsave</div>\n                                : <div onClick={handleSave}>Save</div>\n                            }\n                            <div onClick={handleReport}>Report</div>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default RecipeDetails;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AddRecipe.css';\n\nconst AddRecipe = () => {\n  const [title, setTitle] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [category, setCategory] = useState(''); // Update category state\n  const [image, setImage] = useState(null);\n  const navigate = useNavigate();  \n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('user_id'); \n  \n    const formattedDate = new Date().toISOString().slice(0, 19).replace('T', ' '); // Format the date without milliseconds and timezone\n  \n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('instructions', instructions);\n    formData.append('category', category); // Append category to the formData\n    formData.append('date_created', formattedDate); // Set current date as date_created\n    if (image) formData.append('image', image);\n    formData.append('user_id', userId); \n  \n    try {\n      await axios.post('http://88.200.63.148:8288/api/recipes/create', formData, {\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' }\n      });\n      navigate('/recipes');  \n    } catch (error) {\n      console.error('Error adding recipe:', error);\n    }\n  }; \n  \n\n  return (\n    <div className=\"add-recipe-container\">\n      <form onSubmit={handleSubmit} className=\"add-recipe-form\">\n        <h2>Add a New Recipe</h2>\n        <label>Title</label>\n        <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n        <label>Instructions</label>\n        <textarea value={instructions} onChange={(e) => setInstructions(e.target.value)} required />\n        \n        {/* Replace category input with a select dropdown */}\n        <label>Category</label>\n        <select value={category} onChange={(e) => setCategory(e.target.value)} required>\n          <option value=\"\">Select a category</option>\n          <option value=\"Salads\">Salads</option>\n          <option value=\"Vegetarian Dishes\">Vegetarian Dishes</option>\n          <option value=\"Low-Sugar Snacks\">Low-Sugar Snacks</option>\n          <option value=\"Sugar-Free Desserts\">Sugar-Free Desserts</option>\n          <option value=\"Healthy Beverages\">Healthy Beverages</option>\n          <option value=\"Low-Sugar Desserts\">Low-Sugar Desserts</option>\n          <option value=\"Sugar-Free Snacks\">Sugar-Free Snacks</option>\n          <option value=\"Non-Vegetarian Food\">Non-Vegetarian Food</option>\n        </select>\n        \n        <label>Image</label>\n        <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\n        <div className=\"button-group\">\n          <button type=\"button\" className=\"cancel-button\" onClick={() => navigate(-1)}>Cancel</button>\n          <button type=\"submit\" className=\"add-recipe-button\">Add Recipe</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AddRecipe;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst MessageList = () => {\n    const [messages, setMessages] = useState([]);\n\n    useEffect(() => {\n        axios.get('/api/messages')\n            .then(response => {\n                setMessages(response.data);\n            })\n            .catch(error => {\n                console.error('Error fetching messages:', error);\n            });\n    }, []);\n\n    return (\n        <div>\n            <h1>Messages</h1>\n            <ul>\n                {messages.map(message => (\n                    <li key={message.message_id}>\n                        <p>{message.content}</p>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default MessageList;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst AchievementList = () => {\n    const [achievements, setAchievements] = useState([]);\n\n    useEffect(() => {\n        axios.get('/api/achievements')\n            .then(response => {\n                setAchievements(response.data);\n            })\n            .catch(error => {\n                console.error('Error fetching achievements:', error);\n            });\n    }, []);\n\n    return (\n        <div>\n            <h1>Achievements</h1>\n            <ul>\n                {achievements.map(achievement => (\n                    <li key={achievement.achievement_id}>\n                        <p>{achievement.title}</p>\n                        <p>{achievement.description}</p>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default AchievementList;","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './Login.css';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false); // State for show password\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://88.200.63.148:8288/api/users/login', {\n        username,\n        password\n      });\n      //console.log('API response:', response.data); \n  \n      const { token, user } = response.data;\n      //console.log('Token:', token); \n      //console.log('User:', user); \n  \n      if (token && user) {\n        localStorage.setItem('token', token);\n        localStorage.setItem('user_id', user.id);\n        localStorage.setItem('username', user.username);\n        navigate('/');\n      } else {\n        setError('Invalid credentials');\n        console.error('No token or user data found. Please log in again.');\n      }\n    } catch (error) {\n      console.error('Login error', error);\n      setError('Invalid credentials');\n    }\n  };\n  \n  return (\n    <div className=\"login-container\">\n      <div className=\"login-card\">\n        <h2 className=\"login-title\">Login</h2>\n        <form onSubmit={handleSubmit} className=\"login-form\">\n          {error && <p className=\"error-message\">{error}</p>}\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password:</label>\n            <input\n              type={showPassword ? 'text' : 'password'}\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group show-password\">\n            <input\n              type=\"checkbox\"\n              id=\"showPassword\"\n              checked={showPassword}\n              onChange={() => setShowPassword(!showPassword)}\n            />\n            <label htmlFor=\"showPassword\">Show password</label>\n          </div>\n          <button type=\"submit\" className=\"login-button\">Login</button>\n        </form>\n        <button \n          type=\"button\" \n          className=\"register-link\" \n          onClick={() => navigate('/register')}\n        >\n          or Register\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","import React, { useState } from 'react';\nimport './Register.css';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const [username, setUsername] = useState('');\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [country, setCountry] = useState('');\n  const [showPassword, setShowPassword] = useState(false); // State for show password\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://88.200.63.148:8288/api/users/register', {\n        username,\n        name,\n        surname,\n        email,\n        password,\n        country,\n        role: 'user'\n      });\n      navigate('/login');\n      console.log(response.data);\n      \n    } catch (error) {\n      if (error.response) {\n        console.error('Registration error:', error.response.data);\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n      } else {\n        console.error('Error:', error.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <div className=\"register-card\">\n        <h2 className=\"register-title\">Register</h2>\n        <form onSubmit={handleSubmit} className=\"register-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name:</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"surname\">Surname:</label>\n            <input\n              type=\"text\"\n              id=\"surname\"\n              value={surname}\n              onChange={(e) => setSurname(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email:</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password:</label>\n            <input\n              type={showPassword ? 'text' : 'password'}\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group show-password\">\n            <input\n              type=\"checkbox\"\n              id=\"showPassword\"\n              checked={showPassword}\n              onChange={() => setShowPassword(!showPassword)}\n            />\n            <label htmlFor=\"showPassword\">Show password</label>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"country\">Country:</label>\n            <input\n              type=\"text\"\n              id=\"country\"\n              value={country}\n              onChange={(e) => setCountry(e.target.value)}\n              required\n            />\n          </div>\n          <button type=\"submit\" className=\"register-button\">Register</button>\n        </form>\n        <button\n          className=\"login-link-button\"\n          onClick={() => navigate('/login')}\n        >\n          or Login\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Profile.css';\n\nconst Profile = () => {\n  const { id } = useParams(); \n  const [user, setUser] = useState(null);\n  const [recipes, setRecipes] = useState([]);\n  const [isEditing, setIsEditing] = useState(false);\n  const [selectedPicture, setSelectedPicture] = useState('default.png');\n  const [isPictureModalOpen, setIsPictureModalOpen] = useState(false);\n  const [formData, setFormData] = useState({\n    username: '',  \n    name: '',\n    surname: '',\n    email: '',\n    password: '', \n    dietaryGoals: '',\n  });\n  const navigate = useNavigate();\n  const loggedInUserId = localStorage.getItem('user_id');\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        navigate('/login');\n        return;\n      }\n\n      try {\n        const userIdToFetch = id || loggedInUserId; \n        const response = await axios.get(`http://88.200.63.148:8288/api/users/${userIdToFetch}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setUser(response.data);\n        setSelectedPicture(response.data.profile_picture || 'default.png');\n\n        if (!id) {\n          setFormData({\n            username: response.data.username,  \n            name: response.data.name,\n            surname: response.data.surname,\n            email: response.data.email,\n            password: '********', \n            dietaryGoals: response.data.dietary_goals || '',\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n        navigate('/login');\n      }\n    };\n\n    fetchProfile();\n  }, [id, loggedInUserId, navigate]);\n\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      if (user) {\n        try {\n          const response = await axios.get('http://88.200.63.148:8288/api/recipes');\n          setRecipes(response.data.filter((recipe) => recipe.user_id === user.user_id));\n        } catch (error) {\n          console.error('Error fetching recipes:', error);\n        }\n      }\n    };\n\n    fetchRecipes();\n  }, [user]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const handlePictureSelect = (picture) => {\n    setSelectedPicture(picture);\n  };\n\n  const handleEditClick = () => {\n    setIsEditing(true);\n  };\n\n  const handleSaveClick = async () => {\n    const token = localStorage.getItem('token');\n  \n    const updateData = {  \n      username: formData.username, \n      name: formData.name,\n      surname: formData.surname,\n      email: formData.email,\n      dietaryGoals: formData.dietaryGoals,\n      profilePicture: selectedPicture,  \n    };\n\n    if (formData.password && formData.password !== '********') {\n      updateData.password = formData.password;\n    }\n\n    try {\n      await axios.put('http://88.200.63.148:8288/api/users/profile', updateData, {  \n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      setUser({\n        ...user,\n        ...updateData,\n        dietary_goals: updateData.dietaryGoals,\n        profile_picture: updateData.profilePicture,\n        password: user.password,  \n      });\n\n      setIsEditing(false);\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    }\n  };\n\n  const handleCancelClick = () => {\n    setFormData({\n      username: user.username,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      password: '********',\n      dietaryGoals: user.dietary_goals || '',\n    });\n    setSelectedPicture(user.profile_picture || 'default.png');\n    setIsEditing(false);\n  };\n\n  const handleDeleteClick = async () => {\n    const token = localStorage.getItem('token');\n    \n    try {\n      await axios.delete(`http://88.200.63.148:8288/api/users/profile`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      \n      // Clear user data and navigate to login\n      localStorage.clear();\n      navigate('/login');\n    } catch (error) {\n      console.error('Error deleting profile:', error);\n    }\n  };\n\n  const openPictureModal = () => {\n    setIsPictureModalOpen(true);\n  };\n\n  const closePictureModal = () => {\n    setIsPictureModalOpen(false);\n  };\n\n  if (!user) {\n    return <div>Loading...</div>;\n  }\n\n  const isCurrentUser = user.user_id === parseInt(loggedInUserId);\n\n  return (\n    <div className=\"profile-page\">\n      <h2>{isCurrentUser ? 'Profile' : `${user.username}'s Profile`}</h2>\n      {isCurrentUser && isEditing ? (\n        <div className=\"edit-form\">\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleInputChange}\n          />\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleInputChange}\n          />\n          <label>Surname:</label>\n          <input\n            type=\"text\"\n            name=\"surname\"\n            value={formData.surname}\n            onChange={handleInputChange}\n          />\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleInputChange}\n          />\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleInputChange}\n            placeholder=\"Enter new password or leave blank\"\n          />\n          <label>Dietary Goals:</label>\n          <textarea\n            name=\"dietaryGoals\"\n            value={formData.dietaryGoals}\n            onChange={handleInputChange}\n            rows=\"3\"\n            placeholder=\"Enter your dietary goals\"\n            className=\"textarea-dietary-goals\"\n          />\n          \n          <label>Select Profile Picture:</label>\n          <img \n            src={`http://88.200.63.148:8288/uploads/${selectedPicture}`} \n            alt=\"Profile\"\n            className=\"profile-picture\"\n            onClick={openPictureModal}\n          />\n\n          <div className=\"button-group\">\n          <div className=\"button-grouppp\">\n            <button className=\"save\" onClick={handleSaveClick}>Save</button>\n            <button className=\"cancel\" onClick={handleCancelClick}>Cancel</button>\n            </div>\n            <button className=\"delete\" onClick={handleDeleteClick}>Delete Account</button> {/* New delete button */}\n            \n          </div>\n        </div>\n      ) : (\n        <div className=\"profile-info\">\n          <img \n            src={`http://88.200.63.148:8288/uploads/${user.profile_picture || 'default.png'}`} \n            alt=\"Profile\"\n            className=\"profile-pic\"\n          />\n          <p><strong>Username:</strong> {user.username}</p> \n          <p><strong>Name:</strong> {user.name}</p>\n          <p><strong>Surname:</strong> {user.surname}</p>\n          <p><strong>Email:</strong> {user.email}</p>\n          <p><strong>Dietary Goals:</strong> {user.dietary_goals || 'Not specified'}</p>\n          {!id && <button className=\"edit\" onClick={handleEditClick}>Edit</button>}\n        </div>\n      )}\n\n      <h3>{isCurrentUser ? 'My Recipes' : `${user.username}'s Recipes`}</h3>\n      <div className=\"recipe-list\">\n        {recipes.length === 0 ? (\n          <p>No recipes found.</p>\n        ) : (\n          recipes.map((recipe) => (\n            <div\n              key={recipe.recipe_id}\n              className=\"recipe-item\"\n              onClick={() => navigate(`/recipe/${recipe.recipe_id}`)}\n            >\n              {recipe.image_filename && (\n                <img\n                  src={`http://88.200.63.148:8288/uploads/${recipe.image_filename}`}\n                  alt={recipe.title}\n                  className=\"recipe-image\"\n                />\n              )}\n              <div className=\"recipe-content\">\n                <h4>{recipe.title}</h4>\n                <p>{recipe.instructions.substring(0, 100)}...</p>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {isPictureModalOpen && (\n        <div className=\"picture-modal\">\n          <div className=\"picture-grid\">\n            {['default.png', 'profile0.png', 'profile1.png', 'profile2.png', 'profile3.png', 'profile4.png', 'profile5.png', 'profile6.png', \n            'profile7.png', 'profile8.png', 'profile9.png', 'profile10.png', 'profile11.png', 'profile12.png', 'profile13.png', 'profile14.png'].map((pic) => (\n              <img \n                key={pic} \n                src={`http://88.200.63.148:8288/uploads/${pic}`} \n                alt=\"Profile Option\" \n                className={`picture-option ${selectedPicture === pic ? 'selected' : ''}`}\n                onClick={() => handlePictureSelect(pic)}\n              />\n            ))}\n          </div>\n          <div className=\"modal-actions\">\n            <button onClick={closePictureModal} className='close'>Close</button>\n            <button onClick={closePictureModal} className=\"save\">Save Selection</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Profile;","import React, { useEffect, useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport './Header.css';\n\nconst Header = () => {\n  const navigate = useNavigate();\n  const isLoggedIn = localStorage.getItem('token') !== null;\n  const isModerator = localStorage.getItem('role') === 'moderator';\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n    navigate('/login');\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      navigate(`/search?query=${searchTerm.trim()}`);\n    }\n  };\n\n  const handleLogoClick = () => {\n    navigate('/');\n  };\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const header = document.querySelector('.header');\n      if (window.scrollY > 50) {\n        header.classList.add('header-small');\n      } else {\n        header.classList.remove('header-small');\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <div className=\"logo\" onClick={handleLogoClick} style={{ cursor: 'pointer' }}>\n        <img src={`${process.env.PUBLIC_URL}/images/logo.png`} alt=\"Sweet Swap\" />\n        <h1>Sweet Swap</h1>\n      </div>\n      <form onSubmit={handleSearchSubmit} className=\"search-form\">\n        <input \n          type=\"text\" \n          value={searchTerm} \n          onChange={handleSearchChange} \n          placeholder=\"Search...\" \n          className=\"search-input\"\n        />\n        <button type=\"submit\" className=\"search-button\">Search</button>\n      </form>\n      <nav className=\"navigation\">\n        <NavLink to=\"/\" className={({ isActive }) => (isActive ? 'active' : '')}>Home</NavLink>\n        <NavLink to=\"/recipes\" className={({ isActive }) => (isActive ? 'active' : '')}>Recipes</NavLink>\n        {isLoggedIn && <NavLink to=\"/profile\" className={({ isActive }) => (isActive ? 'active' : '')}>Profile</NavLink>}\n        {isLoggedIn && isModerator && <NavLink to=\"/moderate\" className={({ isActive }) => (isActive ? 'active' : '')}>Moderate</NavLink>}\n        <NavLink to=\"/contact\" className={({ isActive }) => (isActive ? 'active' : '')}>Contact</NavLink>\n        {!isLoggedIn && <NavLink to=\"/login\" className={({ isActive }) => (isActive ? 'active' : '')}>Login</NavLink>}\n        {!isLoggedIn && <NavLink to=\"/register\" className={({ isActive }) => (isActive ? 'active' : '')}>Register</NavLink>}\n        {isLoggedIn && <button onClick={handleLogout} className=\"logout-button\">Logout</button>}\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;","import React from 'react';\nimport './Footer.css';\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"social-links\">\n        {/*\n        <a href=\"#\"><i className=\"fab fa-facebook-f\"></i></a>\n        <a href=\"#\"><i className=\"fab fa-twitter\"></i></a>\n        <a href=\"#\"><i className=\"fab fa-google-plus-g\"></i></a>\n        */}\n      </div>\n      <div className=\"footer-separator\"></div>\n      <p>© 2024 Sweet Swap</p>\n    </footer>\n  );\n};\n\nexport default Footer;","import React, { useState } from 'react';\nimport './Contact.css';\nimport axios from 'axios';\n\nconst Contact = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    message: ''\n  });\n\n  const { name, email, message } = formData;\n\n  const onChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post('http://88.200.63.148:8288/api/contact', formData);\n      alert('Message sent successfully');\n      setFormData({ name: '', email: '', message: '' });\n    } catch (err) {\n      console.error(err);\n      alert('Error sending message');\n    }\n  };\n\n  return (\n    <div className=\"contact-container\">\n      <div className=\"contact-details\">\n        <h2>Contact us</h2>\n        <p>If you have any questions about our recipes or even suggestions, don't hesitate to contact us. We are looking forward to hearing from you!</p>\n        <p>E-mail: support@gmail.com</p>\n      </div>\n      <div className=\"contact-card\">\n        <h2 className=\"contact-title\">Send us a message!</h2>\n        <form className=\"contact-form\" onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name:</label>\n            <input type=\"text\" id=\"name\" name=\"name\" value={name} onChange={onChange} required />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email:</label>\n            <input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChange} required />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"message\">Message:</label>\n            <textarea id=\"message\" name=\"message\" value={message} onChange={onChange} required></textarea>\n          </div>\n          <button type=\"submit\" className=\"contact-button\">Send Message</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Contact;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './EditRecipe.css';\n\nconst EditRecipe = () => {\n  const { id } = useParams();\n  const [title, setTitle] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [category, setCategory] = useState('');\n  const [image, setImage] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchRecipe = async () => {\n      try {\n        const response = await axios.get(`http://88.200.63.148:8288/api/recipes/${id}`);\n        const recipe = response.data;\n        setTitle(recipe.title);\n        setInstructions(recipe.instructions);\n        setCategory(recipe.category);\n      } catch (error) {\n        console.error('Error fetching recipe details:', error);\n      }\n    };\n\n    fetchRecipe();\n  }, [id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n  \n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('instructions', instructions);\n    formData.append('category', category);\n    if (image) formData.append('image', image); // Ensure this is correct\n  \n    try {\n      await axios.put(`http://88.200.63.148:8288/api/recipes/${id}`, formData, {\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' }\n      });\n      navigate(`/recipe/${id}`);\n    } catch (error) {\n      console.error('Error updating recipe:', error);\n    }\n  }; \n\n  return (\n    <div className=\"edit-recipe-container\">\n      <form onSubmit={handleSubmit} className=\"edit-recipe-form\">\n        <h2>Edit Recipe</h2>\n        <label>Title</label>\n        <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n        <label>Instructions</label>\n        <textarea value={instructions} onChange={(e) => setInstructions(e.target.value)} required />\n        <label>Category</label>\n        <select value={category} onChange={(e) => setCategory(e.target.value)} required>\n          <option value=\"\">Select a category</option>\n          <option value=\"Salads\">Salads</option>\n          <option value=\"Vegetarian Dishes\">Vegetarian Dishes</option>\n          <option value=\"Low-Sugar Snacks\">Low-Sugar Snacks</option>\n          <option value=\"Sugar-Free Desserts\">Sugar-Free Desserts</option>\n          <option value=\"Healthy Beverages\">Healthy Beverages</option>\n          <option value=\"Low-Sugar Desserts\">Low-Sugar Desserts</option>\n          <option value=\"Sugar-Free Snacks\">Sugar-Free Snacks</option>\n          <option value=\"Non-Vegetarian Food\">Non-Vegetarian Food</option>\n        </select>\n        <label>Image</label>\n        <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\n        <div className=\"button-group\">\n          <button type=\"button\" className=\"cancel-button\" onClick={() => navigate(-1)}>Cancel</button>\n          <button type=\"submit\" className=\"edit-recipe-button\">Save Changes</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditRecipe;","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport RecipeCard from '../components/RecipeCard';\nimport './SearchResults.css';\n\nconst SearchResults = () => {\n  const [results, setResults] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchSearchResults = async () => {\n      const queryParams = new URLSearchParams(location.search);\n      const query = queryParams.get('query');\n\n      if (query) {\n        try {\n          const response = await axios.get(`http://88.200.63.148:8288/api/recipes/search?query=${query}`);\n          setResults(response.data);\n        } catch (error) {\n          console.error('Error fetching search results:', error);\n        }\n      }\n    };\n\n    fetchSearchResults();\n  }, [location.search]);\n\n  return (\n    \n    <div className=\"search-results\">\n      {results.length > 0 ? (\n        <div className=\"search-results-container\">\n          {results.map(recipe => (\n            <RecipeCard key={recipe.recipe_id} recipe={recipe} />\n          ))}\n        </div>\n      ) : (\n        <p>No results found for your search.</p>\n      )}\n    </div>\n  );\n};\n\nexport default SearchResults;","import React from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport Home from './pages/Home';\nimport RecipeList from './pages/RecipeList';\nimport RecipeDetails from './pages/RecipeDetails';\nimport AddRecipe from './pages/AddRecipe';\nimport MessageList from './pages/MessageList';\nimport AchievementList from './pages/AchievementList';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Contact from './pages/Contact';\nimport EditRecipe from './pages/EditRecipe';\nimport SearchResults from './components/SearchResults';\n\nconst AppRouter = () => (\n  <Router>\n    <Header />\n    <Routes>\n      <Route exact path=\"/\" element={<Home />} />\n      <Route path=\"/recipes\" element={<RecipeList />} />\n      <Route path=\"/recipe/:id\" element={<RecipeDetails />} />\n      <Route path=\"/add-recipe\" element={<AddRecipe />} />\n      <Route path=\"/messages\" element={<MessageList />} />\n      <Route path=\"/achievements\" element={<AchievementList />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/register\" element={<Register />} />\n      <Route path=\"/profile\" element={<Profile />} /> {/* For logged-in user's profile */}\n      <Route path=\"/user/:id\" element={<Profile />} /> {/* For other users' profiles */}\n      <Route path=\"/contact\" element={<Contact />} />\n      <Route path=\"/recipes/category/:category\" element={<RecipeList />} />\n      <Route path=\"/edit-recipe/:id\" element={<EditRecipe />} />\n      <Route path=\"/search\" element={<SearchResults />} />\n    </Routes>\n    <Footer />\n  </Router>\n);\n\nexport default AppRouter;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport AppRouter from './AppRouter';\nimport './index.css';\nimport axios from 'axios';\n\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    if (error.response && error.response.status === 401) {\n      console.error('Unauthorized access - Redirecting to login.');\n      localStorage.removeItem('token');\n      window.location.href = '/login'; \n    }\n    return Promise.reject(error);\n  }\n);\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\nroot.render(<AppRouter />);"],"sourceRoot":""}